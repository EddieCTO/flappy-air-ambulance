<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Flappy Air Ambulance</title>
  <style>
    body {
      text-align: center;
      background: #cce7ff;
      font-family: sans-serif;
    }
    canvas {
      background: #87ceeb;
      display: block;
      margin: 0 auto;
      border: 2px solid #333;
    }
    #controls {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>üöÅ Flappy Air Ambulance</h1>
  <canvas id="gameCanvas" width="800" height="500"></canvas>

  <div id="controls">
    <button onclick="startGame()">Start Game</button>
    <label for="speedRange">Speed:</label>
    <input type="range" id="speedRange" min="1" max="10" value="3" />
  </div>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const helicopterImage = new Image();
    helicopterImage.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/Eurocopter_EC135_UK_Helicopter_Ambulance.jpg/320px-Eurocopter_EC135_UK_Helicopter_Ambulance.jpg";

    let helicopter = {
      x: 80,
      y: 150,
      width: 80,
      height: 40,
      velocity: 0
    };

    let gravity = 0.5;
    let lift = -10;
    let speed = 3;
    let obstacles = [];
    let gameRunning = false;
    let animationFrame;

    function createObstacles() {
      obstacles = [];
      for (let i = 0; i < 3; i++) {
        let gap = 150;
        let topHeight = Math.random() * (canvas.height - gap - 100);
        obstacles.push({
          x: canvas.width + i * 300,
          width: 60,
          top: topHeight,
          bottom: canvas.height - topHeight - gap
        });
      }
    }

    function drawObstacles() {
      ctx.fillStyle = "#333";
      obstacles.forEach((obs) => {
        ctx.fillRect(obs.x, 0, obs.width, obs.top); // Top
        ctx.fillRect(obs.x, canvas.height - obs.bottom, obs.width, obs.bottom); // Bottom
        obs.x -= speed;
      });

      // Remove and add new obstacles
      if (obstacles[0].x + obstacles[0].width < 0) {
        obstacles.shift();
        let gap = 150;
        let topHeight = Math.random() * (canvas.height - gap - 100);
        obstacles.push({
          x: canvas.width,
          width: 60,
          top: topHeight,
          bottom: canvas.height - topHeight - gap
        });
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Draw helicopter
      helicopter.velocity += gravity;
      helicopter.y += helicopter.velocity;

      ctx.drawImage(helicopterImage, helicopter.x, helicopter.y, helicopter.width, helicopter.height);

      // Draw obstacles
      drawObstacles();

      // Collision detection (optional)

      if (gameRunning) {
        animationFrame = requestAnimationFrame(draw);
      }
    }

    function startGame() {
      helicopter.y = 150;
      helicopter.velocity = 0;
      createObstacles();
      gameRunning = true;
      cancelAnimationFrame(animationFrame);
      draw();
    }

    // Controls
    document.addEventListener("keydown", function (e) {
      if (e.code === "Space") {
        helicopter.velocity = lift;
      }
    });

    // Speed slider
    const speedSlider = document.getElementById("speedRange");
    speedSlider.addEventListener("input", function () {
      speed = parseInt(this.value);
    });
  </script>
</body>
</html>
